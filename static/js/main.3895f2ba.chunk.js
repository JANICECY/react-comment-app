(this["webpackJsonpcomment-app-project"]=this["webpackJsonpcomment-app-project"]||[]).push([[0],{24:function(e,t,n){e.exports=n(36)},29:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n(7),o=n(10),m=n(8),c=n(9),s=n(1),i=n.n(s),l=n(16),u=n.n(l);n(29),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(30);var h=n(13),p=n(17),d=n(15),O=n(37),b=n(38),f=n(39),v=n(40),E=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={username:e.username,content:""},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"handleOnSubmit",value:function(){this.props.onSubmit&&this.props.onSubmit({username:this.state.username,content:this.state.content,createdTime:+new Date}),this.setState({content:""})}},{key:"handleOnUserNameChange",value:function(e){this.setState({username:e.target.value})}},{key:"handleOnContentChange",value:function(e){this.setState({content:e.target.value})}},{key:"handleUsernameOnBlur",value:function(){this.props.OnUsernameOnBlur&&this.props.OnUsernameOnBlur(this.state.username)}},{key:"render",value:function(){return i.a.createElement("div",{className:"comment-input"},i.a.createElement(O.a,{className:"card-body"},i.a.createElement(b.a,null,i.a.createElement(f.a,{for:"exampleText"},"Username"),i.a.createElement("input",{type:"text",onChange:this.handleOnUserNameChange.bind(this),value:this.state.username,className:"form-control",onBlur:this.handleUsernameOnBlur.bind(this)})),i.a.createElement(b.a,null,i.a.createElement(f.a,{for:"exampleText"},"Content"),i.a.createElement("textarea",{type:"textarea",value:this.state.content,onChange:this.handleOnContentChange.bind(this),className:"form-control"})),i.a.createElement(b.a,null,i.a.createElement(v.a,{onClick:this.handleOnSubmit.bind(this)},"Submit"))))}}]),t}(s.Component);E.defaultProps={username:""};var C=E,y=function(e){function t(){var e;return Object(a.a)(this,t),(e=Object(o.a)(this,Object(m.a)(t).call(this))).state={username:""},e}return Object(c.a)(t,e),Object(r.a)(t,[{key:"handleOnsubmit",value:function(e){if(e){if(!e.username)return alert("Please enter username!");if(!e.content)return alert("Please enter content!");var t=[].concat(Object(d.a)(this.props.comments),[e]);localStorage.setItem("comments",JSON.stringify(t)),this.props.onSubmit(e)}}},{key:"componentWillMount",value:function(){this._loadUsername()}},{key:"handleOnUsernameOnBlur",value:function(e){localStorage.setItem("username",e)}},{key:"_loadUsername",value:function(){var e=localStorage.getItem("username");e&&this.setState({username:e})}},{key:"render",value:function(){return i.a.createElement(C,{onSubmit:this.handleOnsubmit.bind(this),OnUsernameOnBlur:this.handleOnUsernameOnBlur.bind(this),username:this.state.username})}}]),t}(s.Component),j=Object(h.b)((function(e){return{comments:e.comments}}),(function(e){return{onSubmit:function(t){return e(function(e){return{type:"ADD_COMMENT",comment:e}}(t))}}}))(y),g=n(41),k=function(e){function t(){var e;return Object(a.a)(this,t),(e=Object(o.a)(this,Object(m.a)(t).call(this))).state={timeString:""},e}return Object(c.a)(t,e),Object(r.a)(t,[{key:"handleOnClick",value:function(){this.props.onDeleteComment&&this.props.onDeleteComment(this.props.index)}},{key:"componentWillMount",value:function(){this._updateTimeString(),this._timer=setInterval(this._updateTimeString.bind(this),5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this._timer)}},{key:"_updateTimeString",value:function(){var e=this.props.comment,t=(+Date.now()-e.createdTime)/1e3,n="";n=t<60?Math.round(Math.max(t,1))+(1===Math.max(t,1)?" second ago":" seconds ago"):Math.round(t/60)+(1===Math.round(t/60)?" minute ago":" minutes ago"),this.setState({timeString:n})}},{key:"render",value:function(){var e=this.props.comment;return i.a.createElement(g.a,{tag:"a",href:"#",action:!0},i.a.createElement("div",{className:"comment"},i.a.createElement("div",{className:"comment-user"},i.a.createElement("span",{className:"comment-username"},e.username),":"),i.a.createElement("p",null,e.content),i.a.createElement("span",{className:"comment-createdTime"},this.state.timeString),i.a.createElement("span",{className:"comment-delete",onClick:this.handleOnClick.bind(this)},"delete")))}}]),t}(s.Component),S=n(42),N=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"handleOnDeleteComment",value:function(e){this.props.onDeleteComment&&this.props.onDeleteComment(e)}},{key:"render",value:function(){var e=this;return i.a.createElement(S.a,{className:"comment-box",style:{width:"600px"}},i.a.createElement(g.a,{style:{backgroundColor:"#343a40",color:"white"},tag:"a",href:"#",action:!0},"Messages"),this.props.comments.map((function(t,n){return i.a.createElement(k,{comment:t,key:n,index:n,onDeleteComment:e.handleOnDeleteComment.bind(e)})})))}}]),t}(s.Component);N.defaultProps={comments:[]};var M=N,x=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){}},{key:"_loadComments",value:function(){var e=localStorage.getItem("comments");e=e?JSON.parse(e):[],this.props.initComments(e)}},{key:"handleOnDeleteComment",value:function(e){var t=this.props.comments,n=[t.slice(0,e),t.slice(e+1)];localStorage.setItem("comments",JSON.stringify(n)),this.props.deleteComment&&this.props.deleteComment(e)}},{key:"render",value:function(){return i.a.createElement(M,{comments:this.props.comments,onDeleteComment:this.handleOnDeleteComment.bind(this)})}}]),t}(s.Component),D=Object(h.b)((function(e){return{comments:e.comments}}),(function(e){return{initComments:function(t){return e(function(e){return{type:"INIT_COMMENTS",comments:e}}(t))},deleteComment:function(t){return e({type:"DELETE_COMMENT",commentIndex:t})}}}))(x),T=n(43),I=n(44),w=n(45),_=n(46),U=n(47),B=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(T.a,{color:"dark",expand:"md"},i.a.createElement(I.a,{style:{color:"white"}},"Comment App"),i.a.createElement(w.a,{className:"ml-auto",navbar:!0},i.a.createElement(_.a,null,i.a.createElement(U.a,{href:"https://github.com/JANICECY/react-comment-app"},"GitHub")))),i.a.createElement("div",{className:"wrapper"},i.a.createElement(j,null),i.a.createElement(D,null)))}}]),t}(s.Component),J=Object(p.b)((function(e,t){switch(e||(e={comments:[]}),t.type){case"INIT_COMMENTS":return{comments:t.comments};case"ADD_COMMENT":return{comments:[].concat(Object(d.a)(e.comments),[t.comment])};case"DELETE_COMMENT":return{comments:[].concat(Object(d.a)(e.comments.slice(0,t.commentIndex)),Object(d.a)(e.comments.slice(t.commentIndex+1)))};default:return e}}));s.Component;u.a.render(i.a.createElement(h.a,{store:J},i.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.3895f2ba.chunk.js.map